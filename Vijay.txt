   // Handle Favorite Article
    const handleFavorite = async (article) => {
        // Check if the user is logged in
        const user = auth.currentUser;
        if (!user) {
          console.log('User not logged in');
          return;
        }else{
          console.log("User logged Successful")
        }
    
        try{
        
        const userRef = collection(firestore, `users/${auth.currentUser.uid}/favorites`);
        const userDoc = await getDocs(userRef);
        const favorites = userDoc.data().favorites || [];

        if (favorites.some((fav) => fav.title === article.title)) {
            // Remove from favorites
            const updatedFavorites = favorites.filter((fav) => fav.title !== article.title);
            await updateDoc(userRef, { favorites: updatedFavorites });
        } else {
            // Add to favorites
            const updatedFavorites = [...favorites, { title: article.title }];
            await updateDoc(userRef, { favorites: updatedFavorites });
        }

        console.log('Favorites updated successfully.');
        }catch(error) {
          console.error('Error updating favorites: ', error.message);
      }
        // const userRef = await addDoc(collection(firestore ,'users'),{
        //        title: "ajay"
        // });
        // console.log(userRef)
        // const favorites = (await userRef.get()).data()?.favorites || [];
    
        // if (favorites.some((fav) => fav.title === article.title)) {
        //   // Remove from favorites
        //   const updatedFavorites = favorites.filter((fav) => fav.title !== article.title);
        //   await userRef.update({ favorites: updatedFavorites });
        // } else {
        //   // Add to favorites
        //   const updatedFavorites = [...favorites, article];
        //   await userRef.update({ favorites: updatedFavorites });
        // }
      };